<svg width="1200" height="540" viewBox="0 0 1200 540" xmlns="http://www.w3.org/2000/svg">
  <!-- 输入 -->
  <rect x="40" y="230" width="80" height="40" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="80" y="255" font-size="16" text-anchor="middle" fill="#1976d2">输入图像</text>
  <!-- Conv2d -->
  <rect x="140" y="230" width="110" height="40" fill="#fffde7" stroke="#fbc02d" stroke-width="2"/>
  <text x="195" y="255" font-size="15" text-anchor="middle" fill="#fbc02d">Conv2d</text>
  <text x="195" y="270" font-size="12" text-anchor="middle" fill="#fbc02d">浅层特征</text>
  <text x="195" y="285" font-size="12" text-anchor="middle" fill="#fbc02d">(SwinIR.conv_first)</text>
  <!-- PatchEmbed -->
  <rect x="270" y="230" width="120" height="40" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="330" y="255" font-size="15" text-anchor="middle" fill="#388e3c">PatchEmbed</text>
  <text x="330" y="270" font-size="12" text-anchor="middle" fill="#388e3c">(PatchEmbed)</text>
  <!-- RSTB堆叠 -->
  <rect x="420" y="120" width="180" height="260" fill="#f3e5f5" stroke="#8e24aa" stroke-width="2"/>
  <text x="510" y="145" font-size="15" text-anchor="middle" fill="#8e24aa">多层 RSTB</text>
  <rect x="440" y="180" width="140" height="40" fill="#ede7f6" stroke="#8e24aa" stroke-width="1"/>
  <text x="510" y="205" font-size="13" text-anchor="middle" fill="#8e24aa">BasicLayer</text>
  <text x="510" y="220" font-size="12" text-anchor="middle" fill="#8e24aa">(BasicLayer)</text>
  <rect x="440" y="230" width="140" height="40" fill="#ede7f6" stroke="#8e24aa" stroke-width="1"/>
  <text x="510" y="255" font-size="13" text-anchor="middle" fill="#8e24aa">BasicLayer</text>
  <text x="510" y="270" font-size="12" text-anchor="middle" fill="#8e24aa">(BasicLayer)</text>
  <rect x="440" y="280" width="140" height="40" fill="#ede7f6" stroke="#8e24aa" stroke-width="1"/>
  <text x="510" y="305" font-size="13" text-anchor="middle" fill="#8e24aa">BasicLayer</text>
  <text x="510" y="320" font-size="12" text-anchor="middle" fill="#8e24aa">(BasicLayer)</text>
  <rect x="440" y="330" width="140" height="40" fill="#ede7f6" stroke="#8e24aa" stroke-width="1"/>
  <text x="510" y="355" font-size="13" text-anchor="middle" fill="#8e24aa">BasicLayer</text>
  <text x="510" y="370" font-size="12" text-anchor="middle" fill="#8e24aa">(BasicLayer)</text>
  <text x="510" y="390" font-size="12" text-anchor="middle" fill="#8e24aa">（含残差连接 RSTB）</text>
  <!-- PatchUnEmbed -->
  <rect x="630" y="230" width="120" height="40" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="690" y="255" font-size="15" text-anchor="middle" fill="#388e3c">PatchUnEmbed</text>
  <text x="690" y="270" font-size="12" text-anchor="middle" fill="#388e3c">(PatchUnEmbed)</text>
  <!-- Conv2d/3Conv -->
  <rect x="780" y="230" width="110" height="40" fill="#fffde7" stroke="#fbc02d" stroke-width="2"/>
  <text x="835" y="255" font-size="15" text-anchor="middle" fill="#fbc02d">Conv2d/3Conv</text>
  <text x="835" y="270" font-size="12" text-anchor="middle" fill="#fbc02d">重建特征</text>
  <text x="835" y="285" font-size="12" text-anchor="middle" fill="#fbc02d">(SwinIR.conv_after_body)</text>
  <!-- 上采样/输出 -->
  <rect x="920" y="190" width="110" height="40" fill="#ffe0b2" stroke="#ef6c00" stroke-width="2"/>
  <text x="975" y="215" font-size="15" text-anchor="middle" fill="#ef6c00">Upsample</text>
  <text x="975" y="230" font-size="12" text-anchor="middle" fill="#ef6c00">(Upsample/</text>
  <text x="975" y="245" font-size="12" text-anchor="middle" fill="#ef6c00">UpsampleOneStep)</text>
  <rect x="920" y="280" width="110" height="40" fill="#ffe0b2" stroke="#ef6c00" stroke-width="2"/>
  <text x="975" y="305" font-size="15" text-anchor="middle" fill="#ef6c00">Conv2d</text>
  <text x="975" y="320" font-size="12" text-anchor="middle" fill="#ef6c00">(SwinIR.conv_last)</text>
  <!-- 输出 -->
  <rect x="1060" y="230" width="90" height="40" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="1105" y="255" font-size="16" text-anchor="middle" fill="#1976d2">输出图像</text>
  <!-- 箭头 -->
  <polygon points="120,250 140,250 135,245 135,255" fill="#1976d2"/>
  <polygon points="250,250 270,250 265,245 265,255" fill="#388e3c"/>
  <polygon points="390,250 420,250 415,245 415,255" fill="#8e24aa"/>
  <polygon points="600,250 630,250 625,245 625,255" fill="#388e3c"/>
  <polygon points="750,250 780,250 775,245 775,255" fill="#fbc02d"/>
  <polygon points="890,250 920,210 920,290 890,250" fill="#ef6c00"/>
  <polygon points="1030,210 1060,250 1060,250 1030,290" fill="#1976d2"/>
  <!-- 分支说明 -->
  <text x="975" y="180" font-size="12" text-anchor="middle" fill="#ef6c00">超分辨率</text>
  <text x="975" y="340" font-size="12" text-anchor="middle" fill="#ef6c00">去噪/去伪影</text>
  <!-- 关键类名说明 -->
  <text x="510" y="170" font-size="11" text-anchor="middle" fill="#8e24aa">(RSTB, SwinTransformerBlock, WindowAttention, Mlp)</text>
</svg>
